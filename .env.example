# Ops-Center Environment Configuration Template
# Copy this file to .env and fill in your values

# ========================================
# DEPLOYMENT CONFIGURATION
# ========================================
ENVIRONMENT=development  # production, staging, development
NODE_ENV=development

# ========================================
# KEYCLOAK SSO CONFIGURATION
# ========================================
# Internal URL for container-to-container communication
KEYCLOAK_URL=http://keycloak:8080
# External URL for browser redirects (use your public domain in production)
KEYCLOAK_EXTERNAL_URL=http://localhost:8080
KEYCLOAK_REALM=ops-center
KEYCLOAK_CLIENT_ID=ops-center
KEYCLOAK_CLIENT_SECRET=your-client-secret-here
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=your-admin-password-here

# ========================================
# DATABASE CONFIGURATION
# ========================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=ops_user
POSTGRES_PASSWORD=your-postgres-password-here
POSTGRES_DB=ops_center_db

# Database connection pool
DB_POOL_MIN=2
DB_POOL_MAX=10

# ========================================
# REDIS CONFIGURATION
# ========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Cache TTL (seconds)
CACHE_TTL_SHORT=60
CACHE_TTL_MEDIUM=300
CACHE_TTL_LONG=3600

# ========================================
# LAGO BILLING CONFIGURATION (Optional)
# ========================================
# Get your API key from your Lago instance
LAGO_API_KEY=your-lago-api-key-here
LAGO_API_URL=http://lago-api:3000
LAGO_PUBLIC_URL=http://localhost:3000
LAGO_SECRET_KEY=your-lago-secret-key-here
LAGO_ENCRYPTION_KEY=your-lago-encryption-key-here

# ========================================
# STRIPE CONFIGURATION (Optional)
# ========================================
# Get your keys from https://dashboard.stripe.com/apikeys
STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key-here
STRIPE_SECRET_KEY=sk_test_your-secret-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# For production, use live keys:
# STRIPE_PUBLISHABLE_KEY=pk_live_your-publishable-key-here
# STRIPE_SECRET_KEY=sk_live_your-secret-key-here

# ========================================
# LITELLM CONFIGURATION (Optional)
# ========================================
LITELLM_MASTER_KEY=your-litellm-master-key-here
LITELLM_PROXY_URL=http://litellm:4000
LITELLM_DATABASE_URL=postgresql://ops_user:your-postgres-password-here@postgres:5432/litellm_db

# ========================================
# APPLICATION CONFIGURATION
# ========================================
APP_NAME=Ops-Center
APP_VERSION=2.4.0
APP_URL=http://localhost:8084

# Secret key for session management (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here

# JWT Configuration
JWT_SECRET=your-jwt-secret-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600  # 1 hour

# ========================================
# EMAIL CONFIGURATION
# ========================================
# Common SMTP providers:
# - Gmail: smtp.gmail.com:587
# - Outlook/O365: smtp.office365.com:587
# - SendGrid: smtp.sendgrid.net:587
# - Mailgun: smtp.mailgun.org:587
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-email@your-domain.com
SMTP_PASSWORD=your-email-password-here
SMTP_FROM_NAME=Ops-Center
SMTP_FROM_EMAIL=noreply@your-domain.com

# Email provider (smtp, sendgrid, mailgun, ses)
EMAIL_PROVIDER=smtp

# ========================================
# SECURITY CONFIGURATION
# ========================================
# CORS Origins (comma-separated, use your domains in production)
CORS_ORIGINS=http://localhost:8084,http://localhost:5173,http://localhost:3000

# Session Configuration
SESSION_TIMEOUT=3600  # 1 hour
SESSION_COOKIE_SECURE=false  # Set to true in production with HTTPS
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ========================================
# DOCKER CONFIGURATION
# ========================================
# Docker socket (for service management)
DOCKER_SOCKET=/var/run/docker.sock
DOCKER_API_VERSION=1.41

# ========================================
# MONITORING & LOGGING
# ========================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Sentry (optional - for error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=${ENVIRONMENT}

# ========================================
# FEATURE FLAGS
# ========================================
ENABLE_USER_REGISTRATION=true
ENABLE_SOCIAL_LOGIN=true
ENABLE_API_KEYS=true
ENABLE_IMPERSONATION=true
ENABLE_BULK_OPERATIONS=true
ENABLE_BILLING=true

# ========================================
# DEVELOPMENT OPTIONS
# ========================================
# Only use in development!
DEBUG=false
HOT_RELOAD=false
SKIP_AUTH=false
